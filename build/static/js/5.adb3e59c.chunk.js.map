{"version":3,"sources":["components/Loading/index.js","components/Loading/style/index.module.less","components/NavBar/index.js","components/NavBar/style/index.module.less","components/SongList/index.js","components/SongList/style/index.module.less","components/HeaderInfo/index.js","components/HeaderInfo/style/index.module.less","pages/SheetPage/style/index.module.less","pages/SheetPage/style/content.module.less","pages/SheetPage/Content.js","pages/SheetPage/index.js"],"names":["Loading","matchingType","type","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","className","style","_this$props","this","props","loading","React","Component","defaultProps","module","exports","loading-box","line-scale","ball-clip-rotate-multiple","rotate","ball-clip-rotate-pulse","scale","square-spin","ball-scale","ball-scale-multiple","NavBar","withRouter","goBack","_this","history","navbar","concat","iconfont","onClick","title","children","SongList","state","list","loadingMore","_callee","_Users_one_Desktop_Demo_music_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","wrap","_context","prev","next","scroll","finishPullUp","stop","onSelectSong","item","index","songlist","song","setState","slice","prevProps","_this2","bottomLoadingText","currentSong","react__WEBPACK_IMPORTED_MODULE_7___default","_components_Scroll__WEBPACK_IMPORTED_MODULE_8__","ref","el","onPullingUp","map","key","id","active","num","red","pic","src","al","picUrl","alt","text","name","ar","reduce","init","current","length","fontSize","song-list-box","react__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","react__WEBPACK_IMPORTED_MODULE_0___default","n","_style_index_module_less__WEBPACK_IMPORTED_MODULE_1__","_style_index_module_less__WEBPACK_IMPORTED_MODULE_1___default","_utils_util__WEBPACK_IMPORTED_MODULE_2__","dayjs__WEBPACK_IMPORTED_MODULE_3__","dayjs__WEBPACK_IMPORTED_MODULE_3___default","HeaderInfo","info","container","coverImgUrl","left","formatNumber","playCount","right","author","creator","avatarUrl","nickname","dayjs","updateTime","format","bg-img","info-wrapper","description","Content","inject","observer","songs","getSongs","size","arguments","undefined","allList","tracks","setTimeout","obj","appStore","_this$state","_this$props$appStore","h","playlist","height","react_default","tabs_default","tabs","swipeable","Scroll","dangerouslySetInnerHTML","createMarkup","Detail","detail","getDetail","res","regenerator_default","get","sent","match","params","SheetPage_Content"],"mappings":"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","file":"static/js/5.adb3e59c.chunk.js","sourcesContent":["import React from 'react'\nimport PropTypes from 'prop-types'\nimport style from './style/index.module.less'\n\nclass Loading extends React.Component {\n    static propTypes = {\n        type: PropTypes.string,\n        loading: PropTypes.bool,\n        style: PropTypes.object\n    }\n    static defaultProps = {\n        style: {}\n    }\n    matchingType = (type) => {\n        switch (type) {\n            case 'line-scale': {\n                return (\n                    <div className={style['line-scale']}>\n                        <div/>\n                        <div/>\n                        <div/>\n                        <div/>\n                        <div/>\n                    </div>\n                )\n            }\n            case 'ball-clip-rotate-multiple': {\n                return (\n                    <div className={style['ball-clip-rotate-multiple']}>\n                        <div/>\n                        <div/>\n                    </div>\n                )\n            }\n            case 'ball-clip-rotate-pulse': {\n                return (\n                    <div className={style['ball-clip-rotate-pulse']}>\n                        <div/>\n                        <div/>\n                    </div>\n                )\n            }\n            case 'square-spin': {\n                return (\n                    <div className={style['square-spin']}>\n                        <div/>\n                    </div>\n                )\n            }\n            case 'ball-scale': {\n                return (\n                    <div className={style['ball-scale']}>\n                        <div/>\n                    </div>\n                )\n            }\n            case 'ball-scale-multiple': {\n                return (\n                    <div className={style['ball-scale-multiple']}>\n                        <div/>\n                        <div/>\n                        <div/>\n                    </div>\n                )\n            }\n            default:\n                return (\n                    <div className={style['line-scale']}>\n                        <div/>\n                        <div/>\n                        <div/>\n                        <div/>\n                        <div/>\n                    </div>\n                )\n        }\n    }\n\n    render () {\n        const {type, loading} = this.props\n        return loading ? (\n            <div className={style['loading-box']} style={this.props.style}>\n                {this.matchingType(type)}\n            </div>\n        ) : null\n    }\n}\n\nexport default Loading","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loading-box\":\"index_loading-box__1Kgdg\",\"line-scale\":\"index_line-scale__1_OJc\",\"ball-clip-rotate-multiple\":\"index_ball-clip-rotate-multiple__3iegK\",\"rotate\":\"index_rotate__mxK17\",\"ball-clip-rotate-pulse\":\"index_ball-clip-rotate-pulse__2h6Nk\",\"scale\":\"index_scale__3JsNk\",\"square-spin\":\"index_square-spin__37Em9\",\"ball-scale\":\"index_ball-scale__16fEH\",\"ball-scale-multiple\":\"index_ball-scale-multiple__1jdW_\"};","import React from 'react'\nimport style from './style/index.module.less'\nimport {withRouter} from 'react-router-dom'\n\n@withRouter\nclass NavBar extends React.Component{\n    goBack = ()=>{\n        this.props.history.goBack()\n    }\n    render(){\n        return (\n            <div className={style.navbar}>\n                <div className={`iconfont icon-zuojiantou ${style.iconfont}`} onClick={this.goBack}/>\n                <div className={style.title}>{this.props.children}</div>\n            </div>\n        )\n    }\n}\n\nexport default NavBar","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navbar\":\"index_navbar__1ThId\",\"iconfont\":\"index_iconfont__2l53L\",\"title\":\"index_title__37GaT\"};","import React from 'react'\nimport PropTypes from 'prop-types'\nimport Scroll from '@/components/Scroll'\nimport style from './style/index.module.less'\n\nclass SongList extends React.Component {\n    static propTypes = {\n        list: PropTypes.array,\n        bottomLoadingText: PropTypes.string,\n        loading: PropTypes.bool,\n        loadingMore: PropTypes.func,\n        onSelectSong: PropTypes.func,\n        currentSong: PropTypes.object,\n    }\n    static defaultProps = {\n        list: [],\n        bottomLoadingText:'加载中...',   //底部loading文字\n        loading:false,    //是否正在加载\n        loadingMore:()=>{},\n        onSelectSong:()=>{},\n        currentSong:{},\n\n    }\n\n    state = {\n        list: []\n    }\n\n    componentDidMount () {\n        this.setState({\n            list: this.props.list.slice()\n        })\n    }\n    //原本想用getDerivedStateFromProps周期，但是this拿不到\n    componentDidUpdate(prevProps){\n        if (this.props.list !== prevProps.list) {\n            this.setState({\n                list:this.props.list\n            })\n        }\n    }\n\n    // //新的生命周期,但是拿不到this\n    // static getDerivedStateFromProps = (nextProps, prevState) => {\n    //     const {list} = nextProps\n    //     console.log(1,this)\n    //     if (list !== prevState.list) {\n    //         // this.scroll && this.scroll.refresh()\n    //         return {\n    //             list\n    //         }\n    //     }\n    //     return null\n    // }\n\n    loadingMore = async ()=>{\n        await this.props.loadingMore()\n        this.scroll && this.scroll.finishPullUp()\n    }\n    //一般公共组件不要编写业务逻辑，虽然点击事件都是一样的，但还要从外面传进来,实际上我们可以再用一个容器组件来包裹，在容器组件中接收store\n    onSelectSong = (item,index)=>{\n        this.props.onSelectSong({\n            songlist:this.state.list,\n            song:item,\n            index\n        })\n    }\n\n\n    render () {\n        const {list} = this.state\n        const {bottomLoadingText,loading,currentSong} = this.props\n\n        return (\n            <div className={style['song-list-box']}>\n                <Scroll ref={el => this.scroll = el} onPullingUp={this.loadingMore}>\n                   <div>\n                       <ul>\n                           {\n                               list && list.map((item,index)=><li key={item.id} onClick={()=>this.onSelectSong(item,index)} className={currentSong.id===item.id ? style.active : ''}>\n                                   <div className={`${style.num} ${index<3 ? style.red : ''}`}>{index + 1}</div>\n                                   <div className={style.pic}>\n                                       <img src={item.al && item.al.picUrl} alt=\"\"/>\n                                   </div>\n                                   <div className={style.text}>\n                                       <h3>{item.name}</h3>\n                                       <div>\n                                           {item.ar && item.ar.reduce((init,current,index)=>{\n                                               if(index < item.ar.length - 1 ){\n                                                   init += current.name + ' / '\n                                               } else {\n                                                   init += current.name + ' - '\n                                               }\n                                               return init\n                                           },'')}\n                                           {item.al && item.al.name}\n                                       </div>\n                                   </div>\n                                   <p className={`iconfont ${currentSong.id===item.id ? 'icon-bofang2':'icon-bofang'}`} style={{fontSize:20}}/>\n                               </li>)\n                           }\n                       </ul>\n                       {\n                           loading && list.length ? <div className={style.loading}>{bottomLoadingText}</div> : null\n                       }\n\n                   </div>\n                </Scroll>\n            </div>\n        )\n    }\n}\n\nexport default SongList","// extracted by mini-css-extract-plugin\nmodule.exports = {\"song-list-box\":\"index_song-list-box__i1WMi\",\"active\":\"index_active__3OtXW\",\"num\":\"index_num__3UTKe\",\"text\":\"index_text__1jHa_\",\"red\":\"index_red__X28LA\",\"pic\":\"index_pic__3aB-W\",\"loading\":\"index_loading__2L3ZA\"};","import React from 'react'\nimport style from './style/index.module.less'\nimport {formatNumber} from '@/utils/util'\nimport dayjs from 'dayjs'\n\nconst HeaderInfo = (props)=> {\n    const info = props.info\n    return (\n        <div className={style.container}>\n            <img src={info.coverImgUrl || ''} alt=\"\" className={style['bg-img']}/>\n            <div className={style['info-wrapper']}>\n                <div className={style.left}>\n                    <img src={info.coverImgUrl} alt=\"\"/>\n                    <p><span className={'iconfont icon-erji1'} style={{fontSize:12}}/> {formatNumber(info.playCount)}</p>\n                </div>\n                <div className={style.right}>\n                    <div className={style.name}>{info.name}</div>\n                    <div className={style.author}>\n                        <img src={info.creator && info.creator.avatarUrl} alt=\"\"/>\n                        <span>{info.creator && info.creator.nickname}</span>\n                    </div>\n                    <div>{dayjs(info.updateTime).format('YYYY-MM-DD')} 更新</div>\n                </div>\n            </div>\n        </div>\n    )\n}\nexport default HeaderInfo","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"index_container__2hZHI\",\"bg-img\":\"index_bg-img__2lI9s\",\"info-wrapper\":\"index_info-wrapper__3X23B\",\"left\":\"index_left__1IzgM\",\"right\":\"index_right__1C9Vp\",\"name\":\"index_name__3m8jj\",\"author\":\"index_author__3ezMh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"index_container__2dVkq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"description\":\"content_description__1K-bV\"};","import React from 'react'\nimport {Tabs} from 'antd-mobile'\nimport style from './style/content.module.less'\nimport Scroll from '@/components/Scroll'\nimport SongList from '@/components/SongList'\nimport PropTypes from 'prop-types'\nimport {createMarkup} from '@/utils/util'\nimport Loading from '@/components/Loading'\nimport {inject,observer} from 'mobx-react'\n\n\n@inject('appStore') @observer\nclass Content extends React.Component{\n    static propTypes = {\n        info: PropTypes.object,\n    }\n    static defaultProps = {\n        info:{}\n    }\n    state = {\n        songs:[],\n        loading:false   //分页加载的loading\n    }\n\n    //外部的info是异步获取的，所以这里用此生命周期而不用componentDidMount\n    componentDidUpdate(prevProps){\n        const info = this.props.info\n        if (info !== prevProps.info) {\n            this.setState({\n                songs: info.tracks ? info.tracks.slice(0,30) : [] //避免第一次的延迟，\n            })\n        }\n    }\n    //数据已经全部返回，所以这里模拟数据请求和分页\n    getSongs = (size=0)=>{\n        const {info} = this.props\n        const allList = info.tracks ? info.tracks.slice() : []\n\n        if(this.state.songs.length >= allList.length){\n            return\n        }\n\n        this.setState({\n            loading: true\n        })\n\n        let list = []\n        //增加两秒的延迟，实际项目中可以不用，这里只是为显示这样一个加载中的过程\n        setTimeout(()=>{\n             list = allList.slice(size,size + 30)\n            this.setState({\n                songs:this.state.songs.concat(list),\n                loading:false\n            })\n        },2000)\n    }\n    loadingMore = ()=>{\n        if(this.state.loading){\n            return\n        }\n        const size = this.state.songs.length\n        this.getSongs(size)\n    }\n    onSelectSong = (obj)=>{\n        this.props.appStore.onSelectSong(obj)\n    }\n\n    render(){\n        const {info} = this.props\n        const {songs,loading} = this.state\n        const {currentSong,playlist} = this.props.appStore\n\n        const tabs = [\n            { title:'歌曲'},\n            { title:'详情'}\n        ]\n        const h = playlist.length ? 60 : 0\n        const height = {height:`calc(100vh - ${ 300 + h}px`}\n\n        return (\n           <div>\n               <Tabs tabs={tabs} swipeable={false}>\n                   <div style={height}>\n                       <SongList list={songs} loading={loading} loadingMore={this.loadingMore} onSelectSong={this.onSelectSong} currentSong={currentSong}/>\n                       <Loading loading={this.props.loading}/>\n                   </div>\n                   <div style={height}>\n                       <Scroll>\n                           <div className={style.description} dangerouslySetInnerHTML={createMarkup(info.description)}/>\n                       </Scroll>\n                   </div>\n               </Tabs>\n           </div>\n        )\n    }\n}\n\nexport default Content","import React from 'react'\nimport {withRouter} from 'react-router-dom'\nimport style from './style/index.module.less'\nimport {get} from '@/utils/ajax'\nimport NavBar from '@/components/NavBar'\nimport HeaderInfo from '@/components/HeaderInfo'\nimport Content from './Content'\n\n@withRouter\nclass Detail extends React.Component{\n    state = {\n        detail:{},\n        loading:false //页面loading\n    }\n\n    componentDidMount(){\n        const id = this.props.match.params.id\n        this.getDetail(id)\n    }\n    getDetail = async (id)=>{\n        this.setState({\n            loading:true\n        })\n        const res = await get(`/playlist/detail?id=${id}`)\n        this.setState({\n            detail:res.playlist || {},\n            loading:false\n        })\n    }\n    render(){\n        const {loading,detail} = this.state\n        return (\n            <div className={style.container}>\n                <div>\n                    <NavBar>{detail.name}</NavBar>\n                    <HeaderInfo info={detail}/>\n                    <Content info={detail} loading={loading}/>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default Detail"],"sourceRoot":""}