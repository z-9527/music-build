(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{236:function(e,a,t){"use strict";var n=t(7),l=t(8),c=t(12),r=t(11),i=t(13),s=t(0),m=t.n(s),o=t(237),u=t.n(o),d=function(e){function a(){var e,t;Object(n.a)(this,a);for(var l=arguments.length,i=new Array(l),s=0;s<l;s++)i[s]=arguments[s];return(t=Object(c.a)(this,(e=Object(r.a)(a)).call.apply(e,[this].concat(i)))).matchingType=function(e){switch(e){case"line-scale":return m.a.createElement("div",{className:u.a["line-scale"]},m.a.createElement("div",null),m.a.createElement("div",null),m.a.createElement("div",null),m.a.createElement("div",null),m.a.createElement("div",null));case"ball-clip-rotate-multiple":return m.a.createElement("div",{className:u.a["ball-clip-rotate-multiple"]},m.a.createElement("div",null),m.a.createElement("div",null));case"ball-clip-rotate-pulse":return m.a.createElement("div",{className:u.a["ball-clip-rotate-pulse"]},m.a.createElement("div",null),m.a.createElement("div",null));case"square-spin":return m.a.createElement("div",{className:u.a["square-spin"]},m.a.createElement("div",null));case"ball-scale":return m.a.createElement("div",{className:u.a["ball-scale"]},m.a.createElement("div",null));case"ball-scale-multiple":return m.a.createElement("div",{className:u.a["ball-scale-multiple"]},m.a.createElement("div",null),m.a.createElement("div",null),m.a.createElement("div",null));default:return m.a.createElement("div",{className:u.a["line-scale"]},m.a.createElement("div",null),m.a.createElement("div",null),m.a.createElement("div",null),m.a.createElement("div",null),m.a.createElement("div",null))}},t}return Object(i.a)(a,e),Object(l.a)(a,[{key:"render",value:function(){var e=this.props,a=e.type;return e.loading?m.a.createElement("div",{className:u.a["loading-box"],style:this.props.style},this.matchingType(a)):null}}]),a}(m.a.Component);d.defaultProps={style:{}},a.a=d},237:function(e,a,t){e.exports={"loading-box":"index_loading-box__1Kgdg","line-scale":"index_line-scale__1_OJc","ball-clip-rotate-multiple":"index_ball-clip-rotate-multiple__3iegK",rotate:"index_rotate__mxK17","ball-clip-rotate-pulse":"index_ball-clip-rotate-pulse__2h6Nk",scale:"index_scale__3JsNk","square-spin":"index_square-spin__37Em9","ball-scale":"index_ball-scale__16fEH","ball-scale-multiple":"index_ball-scale-multiple__1jdW_"}},359:function(e,a,t){e.exports={container:"index_container__Oc7o_",loading:"index_loading__3B3g9",navbar:"index_navbar__2V3NH",iconfont:"index_iconfont__16KBr",content:"index_content__1Pq7a",title:"index_title__2Z7JN",desc:"index_desc__1e42m","comment-section":"index_comment-section__2XkMz",left:"index_left__1MS6K",right:"index_right__3LcyX","user-box":"index_user-box__2iiR3",time:"index_time__2qamI",comment:"index_comment__CgAKH"}},385:function(e,a,t){"use strict";t.r(a);var n,l=t(22),c=t.n(l),r=t(27),i=t(7),s=t(8),m=t(12),o=t(11),u=t(13),d=t(0),v=t.n(d),p=t(359),E=t.n(p),_=t(78),b=t(389),f=(t(361),t(376)),h=t(35),g=t(243),x=t.n(g),N=t(46),y=t(236),k=Object(b.a)(n=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(t=Object(m.a)(this,(e=Object(o.a)(a)).call.apply(e,[this].concat(l)))).state={mvData:{},comments:[],hotComments:[],total:0,isLoadMore:!1,loading:!1},t.initPage=function(){t.setState({loading:!0});var e=t.props.match.params.id;Promise.all([t.getMvData(e),t.getComments(e)]).then(function(){t.setState({loading:!1})})},t.getMvData=function(){var e=Object(r.a)(c.a.mark(function e(a){var n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_.a)("/mv/detail?mvid=".concat(a));case 2:n=e.sent,t.setState({mvData:n.data||{}});case 4:case"end":return e.stop()}},e,this)}));return function(a){return e.apply(this,arguments)}}(),t.goBack=function(){t.props.history.goBack()},t.getComments=function(){var e=Object(r.a)(c.a.mark(function e(a){var n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_.a)("/comment/mv?id=".concat(a));case 2:n=e.sent,t.setState({comments:n.comments||[],hotComments:n.hotComments||[],total:n.total||0});case 4:case"end":return e.stop()}},e,this)}));return function(a){return e.apply(this,arguments)}}(),t.onLoadMore=Object(r.a)(c.a.mark(function e(){var a,n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.state.isLoadMore){e.next=2;break}return e.abrupt("return");case 2:return t.setState({isLoadMore:!0}),a=t.props.match.params.id,e.next=6,Object(_.a)("/comment/mv",{id:a,offset:t.state.comments.length});case 6:n=e.sent,t.setState({isLoadMore:!1,comments:t.state.comments.concat(n.comments||[])}),t.scroll&&t.scroll.finishPullUp();case 9:case"end":return e.stop()}},e,this)})),t}return Object(u.a)(a,e),Object(s.a)(a,[{key:"componentDidMount",value:function(){this.initPage()}},{key:"render",value:function(){var e=this,a=this.state,t=a.mvData,n=a.hotComments,l=a.comments,c=a.total,r=a.isLoadMore,i=a.loading;return v.a.createElement("div",{className:E.a.container},v.a.createElement("div",{className:E.a.navbar},v.a.createElement("div",{className:"iconfont icon-zuojiantou ".concat(E.a.iconfont),onClick:this.goBack}),v.a.createElement("div",{className:E.a.title},"MV")),v.a.createElement("div",null,v.a.createElement(f.b,{src:t.brs&&t.brs[240],poster:t.cover},v.a.createElement(f.a,{position:"center"}))),v.a.createElement("div",{style:{height:"calc(100vh - 256px)",display:i?"none":""}},v.a.createElement(N.a,{onPullingUp:this.onLoadMore,ref:function(a){return e.scroll=a}},v.a.createElement("div",null,v.a.createElement("div",{className:E.a.content},v.a.createElement("div",{className:E.a.title},t.name),v.a.createElement("div",{style:{color:"#555"}},"\u53d1\u5e03\uff1a",t.publishTime," \xa0 | \xa0 \u64ad\u653e\uff1a",Object(h.b)(t.playCount)),v.a.createElement("div",{dangerouslySetInnerHTML:Object(h.a)(t.desc),className:E.a.desc})),v.a.createElement("div",{className:E.a["comment-section"]},v.a.createElement("div",{className:E.a.title},"\u7cbe\u5f69\u8bc4\u8bba"),v.a.createElement("ul",null,n&&n.map(function(e){return v.a.createElement("li",{key:e.commentId},v.a.createElement("div",{className:E.a.left},v.a.createElement("img",{src:e.user&&e.user.avatarUrl,alt:""})),v.a.createElement("div",{className:E.a.right},v.a.createElement("div",{className:E.a["user-box"]},v.a.createElement("div",null,e.user&&e.user.nickname),v.a.createElement("div",null,e.likedCount," ",v.a.createElement("span",{className:"iconfont icon-zan1"}))),v.a.createElement("div",{className:E.a.time},x()(e.time).format("M[\u6708]D[\u65e5]")),v.a.createElement("div",{className:E.a.comment},e.content)))}))),v.a.createElement("div",{className:E.a["comment-section"]},v.a.createElement("div",{className:E.a.title},"\u6700\u65b0\u8bc4\u8bba(",c,")"),v.a.createElement("ul",null,l&&l.map(function(e){return v.a.createElement("li",{key:e.commentId},v.a.createElement("div",{className:E.a.left},v.a.createElement("img",{src:e.user&&e.user.avatarUrl,alt:""})),v.a.createElement("div",{className:E.a.right},v.a.createElement("div",{className:E.a["user-box"]},v.a.createElement("div",null,e.user&&e.user.nickname),v.a.createElement("div",null,e.likedCount?e.likedCount:null," ",v.a.createElement("span",{className:"iconfont icon-zan1"}))),v.a.createElement("div",{className:E.a.time},x()(e.time).format("M[\u6708]D[\u65e5]")),v.a.createElement("div",{className:E.a.comment},e.content)))})),v.a.createElement("div",{className:E.a.loading,style:{display:r?"":"none"}},"\u52a0\u8f7d\u4e2d..."))))),v.a.createElement(y.a,{loading:i,style:{top:"60%"}}))}}]),a}(v.a.Component))||n;a.default=k}}]);
//# sourceMappingURL=11.97613d1c.chunk.js.map