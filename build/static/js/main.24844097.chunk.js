(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{120:function(e,t,n){e.exports=n(228)},125:function(e,t,n){},127:function(e,t,n){},173:function(e,t,n){e.exports=n.p+"static/media/01.22d1ec1b.jpg"},18:function(e,t,n){e.exports={container:"index_container__SssLP",header:"index_header__1rz6O",contenr:"index_contenr__2A_xN",section:"index_section__1eqJE",divider:"index_divider__1Ml2g",title:"index_title__HF33V","side-up-init":"index_side-up-init__3PdWH","side-up":"index_side-up__vDtvl","fade-init":"index_fade-init__2LA-l",fade:"index_fade__3Gomz"}},218:function(e,t,n){},228:function(e,t,n){"use strict";n.r(t);var a,r=n(0),i=n.n(r),c=n(6),o=n.n(c),l=(n(125),n(7)),s=n(8),u=n(12),p=n(11),m=n(13),d=(n(127),n(129),n(103)),h=n.n(d),f=n(18),b=n.n(f),y=n(17),g=Object(y.b)("appStore")(a=Object(y.c)(a=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={checked:!1},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,t=this.props.appStore.isExpandSider;return i.a.createElement("div",{className:b.a.container},i.a.createElement("div",{className:b.a.header},i.a.createElement("div",null,i.a.createElement("img",{src:n(173),alt:""}),"\u6e38\u5ba2\u8bd5\u7528")),i.a.createElement("div",{className:b.a.contenr},i.a.createElement("div",{className:b.a.section},i.a.createElement("div",{className:"".concat(b.a.title," ").concat(b.a["fade-init"]," ").concat(t?b.a.fade:"")},"\u529f\u80fd"),i.a.createElement("ul",{className:"".concat(b.a["side-up-init"]," ").concat(t?b.a["side-up"]:"")},i.a.createElement("li",null,i.a.createElement("div",{className:"iconfont icon-ziyuanldpi",style:{fontSize:16}}),i.a.createElement("div",null,"\u5747\u8861\u5668")),i.a.createElement("li",null,i.a.createElement("div",{className:"iconfont icon-pifu"}),i.a.createElement("div",null,"\u4e2a\u6027\u88c5\u626e")),i.a.createElement("li",null,i.a.createElement("div",{className:"iconfont icon-saoyisao1"}),i.a.createElement("div",null,"\u626b\u4e00\u626b")),i.a.createElement("li",null,i.a.createElement("div",{className:"iconfont icon-naozhong2"}),i.a.createElement("div",null,"\u97f3\u4e50\u95f9\u949f")),i.a.createElement("li",null,i.a.createElement("div",{className:"iconfont icon-94"}),i.a.createElement("div",null,"\u6e38\u620f\u63a8\u8350")),i.a.createElement("li",null,i.a.createElement("div",{className:"iconfont icon-lishibisai",style:{fontSize:18}}),i.a.createElement("div",null,"\u5b9a\u65f6\u5173\u95ed\u64ad\u653e"),i.a.createElement("div",null,i.a.createElement(h.a,{checked:this.state.checked,onChange:function(){return e.setState({checked:!e.state.checked})}})))),i.a.createElement("div",{className:"".concat(b.a.divider," ").concat(b.a["fade-init"]," ").concat(t?b.a.fade:"")})),i.a.createElement("div",{className:b.a.section},i.a.createElement("div",{className:"".concat(b.a.title," ").concat(b.a["fade-init"]," ").concat(t?b.a.fade:"")},"\u901a\u7528"),i.a.createElement("ul",{className:"".concat(b.a["side-up-init"]," ").concat(t?b.a["side-up"]:"")},i.a.createElement("li",{style:{transitionDelay:".56s"}},i.a.createElement("div",{className:"iconfont icon-guanyuwomen",style:{fontSize:18}}),i.a.createElement("div",null,"\u5173\u4e8e")),i.a.createElement("li",{style:{transitionDelay:".64s"}},i.a.createElement("div",{className:"iconfont icon-fankui",style:{fontSize:18}}),i.a.createElement("div",null,"\u5e2e\u52a9\u4e0e\u53cd\u9988"))))))}}]),t}(i.a.Component))||a)||a,v=n(26),E=n.n(v),_=n(390),S=n(380),j=n(392),O=n(265),w=n(389),x=n(22),N=n.n(x),k=n(27);function P(e){return function(t){function n(e){var t;return Object(l.a)(this,n),(t=Object(u.a)(this,Object(p.a)(n).call(this,e))).state={component:null},t}return Object(m.a)(n,t),Object(s.a)(n,[{key:"componentDidMount",value:function(){var t=Object(k.a)(N.a.mark(function t(){var n,a;return N.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e();case 2:n=t.sent,a=n.default,this.setState({component:a});case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.component;return e?i.a.createElement(e,this.props):null}}]),n}(r.Component)}var C=n(31),T=n.n(C),z=(n(94),n(58)),L=n.n(z),I=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.radius,n=e.percent,a=100*Math.PI,r=(1-n)*a;return i.a.createElement("div",{className:L.a["progress-circle"],style:{width:t,height:t}},i.a.createElement("svg",{width:t,height:t,viewBox:"0 0 100 100",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},i.a.createElement("circle",{className:L.a["progress-background"],r:"50",cx:"50",cy:"50",fill:"transparent"}),i.a.createElement("circle",{className:L.a["progress-bar"],r:"50",cx:"50",cy:"50",fill:"transparent",strokeDasharray:a,strokeDashoffset:r})),this.props.children)}}]),t}(i.a.Component);I.defaultProps={radius:100,percent:0};var M,D=I,F=Object(y.b)("appStore")(M=Object(y.c)(M=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).open=function(){n.props.appStore.setFullScreen(!0)},n.togglePlay=function(e){e.stopPropagation(),n.props.appStore.togglePlay()},n.showPlaylist=function(e){e.stopPropagation(),n.props.appStore.setStore({isShowPlaylist:!0})},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.appStore,t=e.currentSong,n=e.playing,a=e.percent;return i.a.createElement("div",{className:T.a["mini-player"],onClick:this.open},i.a.createElement("div",{className:T.a.icon},i.a.createElement("img",{src:t.image,alt:"",className:"rotate ".concat(n?"":"rotate-pause")})),i.a.createElement("div",{className:T.a.text},i.a.createElement("h2",null,t.name),i.a.createElement("p",null,t.artists)),i.a.createElement("div",{className:T.a.control,onClick:this.togglePlay},i.a.createElement(D,{percent:a,radius:32},i.a.createElement("span",{className:"iconfont ".concat(T.a.iconfont," ").concat(n?"icon-iconstop":"icon-icon--1")}))),i.a.createElement("div",{className:T.a.control,onClick:this.showPlaylist},i.a.createElement("span",{className:"iconfont icon-liebiao3 ".concat(T.a.iconfont2)})))}}]),t}(i.a.Component))||M)||M,W=n(5),U=n.n(W),A=n(104),H=n(76),X=n.n(H),R=n(42),J=n.n(R),Y=16,q=null,B=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={_percent:0},n.progressClick=function(e){var t=n.bar.getBoundingClientRect(),a=(e.pageX-t.left)/(n.bar.clientWidth-Y);n.props.percentChange(a)},n.onTouchStart=function(e){q={startX:e.touches[0].pageX,left:n.progress.clientWidth}},n.onTouchMove=function(e){if(q){var t=e.touches[0].pageX-q.startX,a=n.bar.clientWidth-Y,r=Math.min(a,Math.max(0,q.left+t));n.setState({_percent:r/a})}},n.onTouchEnd=function(){q=null,n.props.percentChange(n.state._percent)},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.state._percent,n=0;this.bar&&(n=this.bar.clientWidth-Y);var a=t*n;return i.a.createElement("div",{className:J.a["progress-bar"],ref:function(t){return e.bar=t},onClick:this.progressClick},i.a.createElement("div",{className:J.a["bar-inner"]},i.a.createElement("div",{className:J.a.progress,style:{width:"".concat(a,"px")},ref:function(t){return e.progress=t}}),i.a.createElement("div",{onTouchStart:this.onTouchStart,onTouchMove:this.onTouchMove,onTouchEnd:this.onTouchEnd,className:J.a["progress-btn-wrapper"],style:{transform:"translateX(".concat(a,"px)")}},i.a.createElement("div",{className:J.a["progress-btn"]}))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.percent;return n===t._percent||q?null:{_percent:n}}}]),t}(i.a.Component);B.defaultProps={percent:0,percentChange:function(){}};var G,V,K,Q,$=B,Z=n(35),ee=n(46),te=Object(y.b)("appStore")(G=Object(y.c)(G=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={currentShow:"cd"},n.scrollToCurrent=function(){clearTimeout(n.timer);var e=n.props.appStore.playingLineNum;if(e>5){var t=n["lyricLine".concat(e-5)];n.lyricList&&n.lyricList.scrollToElement(t,1e3)}else n.lyricList&&n.lyricList.scrollTo(0,0,1e3)},n.close=function(){n.props.appStore.setFullScreen(!1)},n._getPosAndScale=function(){var e=.8*window.innerWidth,t=40/e;return{x:-(window.innerWidth/2-40),y:window.innerHeight-80-e/2-30,scale:t}},n.onEnter=function(){var e=n._getPosAndScale(),t=e.x,a=e.y,r=e.scale,i={0:{transform:"translate3d(".concat(t,"px,").concat(a,"px,0) scale(").concat(r,")")},60:{transform:"translate3d(0,0,0) scale(1.1)"},100:{transform:"translate3d(0,0,0) scale(1)"}};X.a.registerAnimation({name:"move",animation:i,presets:{duration:400,easing:"linear"}}),X.a.runAnimation(n.cdWrapper,"move")},n.togglePlay=function(){n.props.appStore.togglePlay()},n.setLikes=function(){n.props.appStore.setLikes(n.props.appStore.currentSong)},n.changeMode=function(){n.props.appStore.changeMode()},n.prev=function(){n.props.appStore.changeSong("prev")},n.next=function(){n.props.appStore.changeSong("next")},n.onPercentChange=function(e){n.props.appStore.onPercentChange(e)},n.middleTouchStart=function(e){var t=e.touches[0];n.touch={startX:t.pageX,startY:t.pageY}},n.middleTouchMove=function(e){if(n.touch){var t=e.touches[0],a=t.pageX-n.touch.startX,r=t.pageY-n.touch.startY;if(!(Math.abs(r)>Math.abs(a))){var i="cd"===n.state.currentShow?0:-window.innerWidth,c=Math.min(0,Math.max(-window.innerWidth,i+a));n.touch.percent=Math.abs(c/window.innerWidth);var o=1-n.touch.percent;n.animationDom(c,o,0)}}},n.middleTouchEnd=function(){var e=0,t=0;"cd"===n.state.currentShow?n.touch.percent>.1?(e=-window.innerWidth,t=0,n.setState({currentShow:"lyric"})):(e=0,t=1):n.touch.percent<.9?(e=0,t=1,n.setState({currentShow:"cd"})):(e=-window.innerWidth,t=0),n.animationDom(e,t,300),n.timer=setTimeout(function(){n.scrollToCurrent()},1e3),n.touch=null},n.animationDom=function(e,t,a){n.middleR.style.transform="translateX(".concat(e,"px)"),n.middleR.style.transitionDuration="".concat(a,"ms"),n.middleL.style.opacity=t,n.middleL.style.transitionDuration="".concat(a,"ms")},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this.props.playingLineNum!==e.playingLineNum,n=this.props.isFullScreen!==e.isFullScreen;(!this.touch&&t||n)&&this.scrollToCurrent()}},{key:"render",value:function(){var e=this,t=this.props.appStore,n=t.currentSong,a=t.isFullScreen,r=t.playing,c=t.likeSongs,o=t.mode,l=t.percent,s=t.currentTime,u=t.songReady,p=t.playingLyric,m=t.lyric,d=t.playingLineNum,h=this.state.currentShow,f=c.some(function(e){return e.id===n.id});return i.a.createElement(A.CSSTransition,{onEnter:this.onEnter,timeout:300,classNames:"normal",in:a},i.a.createElement("div",{className:U.a["normal-player"],style:{display:a?"":"none"}},i.a.createElement("div",{className:U.a.background},i.a.createElement("img",{src:n.image,alt:""})),i.a.createElement("div",{className:"".concat(U.a.top," top")},i.a.createElement("div",{className:U.a.back,onClick:this.close},i.a.createElement("span",{className:"iconfont icon-jiantouarrow483"})),i.a.createElement("h2",null,n.name),i.a.createElement("h3",null,n.artists)),i.a.createElement("div",{className:U.a.middle,onTouchStart:this.middleTouchStart,onTouchMove:this.middleTouchMove,onTouchEnd:this.middleTouchEnd},i.a.createElement("div",{className:U.a["middle-left"],ref:function(t){return e.middleL=t}},i.a.createElement("div",{className:U.a["image-wrapper"],ref:function(t){return e.cdWrapper=t}},i.a.createElement("img",{src:n.image,alt:"",className:"rotate ".concat(r?"":"rotate-pause")})),i.a.createElement("div",{className:U.a["playing-lyric-wrapper"]},i.a.createElement("div",{className:U.a["playing-lyric"]},u?p:"\u6b63\u5728\u7f13\u51b2..."))),i.a.createElement("div",{className:U.a["middle-right"],ref:function(t){return e.middleR=t}},i.a.createElement("div",{className:U.a["lyric-wrapper"]},i.a.createElement(ee.a,{ref:function(t){return e.lyricList=t}},i.a.createElement("ul",null,m&&m.lines.map(function(t,n){return i.a.createElement("li",{key:n,ref:function(t){return e["lyricLine".concat(n)]=t},className:"".concat(U.a.text," ").concat(d===n?U.a.current:"")},t.txt)})))))),i.a.createElement("div",{className:"".concat(U.a.bottom," bottom")},i.a.createElement("div",{className:U.a["dot-wrapper"]},i.a.createElement("span",{className:"".concat(U.a.dot," ").concat("cd"===h?U.a.active:"")}),i.a.createElement("span",{className:"".concat(U.a.dot," ").concat("lyric"===h?U.a.active:"")})),i.a.createElement("div",{className:U.a["progress-wrapper"]},i.a.createElement("div",{className:U.a.time},Object(Z.c)(s)),i.a.createElement("div",{className:U.a["bar-wrapper"]},i.a.createElement($,{percent:l,percentChange:this.onPercentChange})),i.a.createElement("div",{className:U.a.time},Object(Z.c)(n.duration))),i.a.createElement("div",{className:"".concat(U.a["control-wrapper"]," ").concat(u?"":U.a.disable)},i.a.createElement("div",null,i.a.createElement("span",{className:"iconfont ".concat(["icon-xunhuanbofang","icon-suijibofang","icon-danquxunhuan"][o]),onClick:this.changeMode})),i.a.createElement("div",null,i.a.createElement("span",{className:"iconfont icon-shangyishou",onClick:this.prev})),i.a.createElement("div",null,i.a.createElement("span",{className:"iconfont ".concat(r?"icon-bofang2":"icon-play_icon"),onClick:this.togglePlay})),i.a.createElement("div",null,i.a.createElement("span",{className:"iconfont icon-xiayishou",onClick:this.next})),i.a.createElement("div",null,i.a.createElement("span",{className:"iconfont ".concat(f?"icon-xihuan1":"icon-xihuan"),onClick:this.setLikes}))))))}}]),t}(i.a.Component))||G)||G,ne=(n(210),n(106)),ae=n.n(ne),re=n(25),ie=n.n(re),ce=ae.a.alert,oe=Object(y.b)("appStore")(V=Object(y.c)(V=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).changeMode=function(){n.props.appStore.changeMode()},n.close=function(){n.props.appStore.setStore({isShowPlaylist:!1})},n.stop=function(e){e.stopPropagation()},n.scrollToCurrent=function(){var e=n.props.appStore.currentIndex,t=n["item".concat(e)];n.scroll&&n.scroll.scrollToElement(t,300)},n.selectItem=function(e){n.props.appStore.setStore({currentIndex:e})},n.deleteSong=function(e,t){t.stopPropagation(),n.props.appStore.deleteSong(e)},n.setLikes=function(e,t){t.stopPropagation(),n.props.appStore.setLikes(e)},n.clear=function(){ce("\u63d0\u793a","\u786e\u5b9a\u6e05\u7a7a\u64ad\u653e\u5217\u8868\u5417?",[{text:"\u53d6\u6d88"},{text:"\u786e\u5b9a",onPress:function(){n.props.appStore.setStore({playlist:[],currentIndex:-1,isShowPlaylist:!1})}}])},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.currentSong,a=t.isShowPlaylist,r=e.currentSong,i=e.isShowPlaylist;n.id===r.id&&a===i||this.scrollToCurrent()}},{key:"render",value:function(){var e=this,t=this.props.appStore,n=t.mode,a=t.playlist,r=t.isShowPlaylist,c=t.likeSongs,o=this.props.currentSong;return i.a.createElement("div",{className:ie.a.wrapper,style:{display:r?"":"none"},onClick:this.close},i.a.createElement("div",{className:ie.a["list-wrapper"],onClick:this.stop},i.a.createElement("div",{className:ie.a["list-top"]},i.a.createElement("div",{onClick:this.changeMode},i.a.createElement("span",{className:"iconfont ".concat(["icon-xunhuanbofang","icon-suijibofang","icon-danquxunhuan"][n]," ").concat(ie.a.icon)}),i.a.createElement("span",{className:ie.a.text},["\u987a\u5e8f\u64ad\u653e","\u968f\u673a\u64ad\u653e","\u5355\u66f2\u5faa\u73af"][n]),i.a.createElement("span",{className:ie.a.num},"(",a.length,")")),i.a.createElement("div",{onClick:this.clear},i.a.createElement("span",{className:"iconfont icon-lvzhou_shanchu_lajitong ".concat(ie.a.icon)}))),i.a.createElement("div",{className:ie.a["list-main"]},i.a.createElement(ee.a,{ref:function(t){return e.scroll=t}},i.a.createElement("ul",null,a&&a.map(function(t,n){return i.a.createElement("li",{key:t.id,onClick:function(){return e.selectItem(n)},ref:function(t){return e["item".concat(n)]=t},className:t.id===o.id?ie.a.active:""},i.a.createElement("div",null,t.name),i.a.createElement("div",null,i.a.createElement("span",{className:"iconfont ".concat(c.some(function(e){return e.id===t.id})?"icon-xihuan1":"icon-xihuan"),onClick:function(n){return e.setLikes(t,n)}}),i.a.createElement("span",{className:ie.a.remove,onClick:function(t){return e.deleteSong(n,t)}},"\xd7")))})))),i.a.createElement("div",{className:ie.a["list-bottom"],onClick:this.close},"\u5173\u95ed")))}}]),t}(i.a.Component))||V)||V,le=Object(y.b)("appStore")(K=Object(y.c)(K=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).onCanPlay=function(){n.props.appStore.onCanPlay()},n.onError=function(){n.props.appStore.onError()},n.onEnded=function(){n.props.appStore.onEnded()},n.onTimeUpdate=function(e){n.props.appStore.onTimeUpdate(e)},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.appStore.setStore({audio:this.audio})}},{key:"render",value:function(){var e=this,t=this.props.appStore,n=t.playlist,a=t.currentSong,r=t.isShowPlaylist,c=t.playingLineNum,o=t.isFullScreen;return i.a.createElement("div",{style:{display:n.length>0?"":"none"}},i.a.createElement(te,{playingLineNum:c,isFullScreen:o}),i.a.createElement(F,null),i.a.createElement(oe,{currentSong:a,isShowPlaylist:r}),i.a.createElement("audio",{onCanPlay:this.onCanPlay,onError:this.onError,onEnded:this.onEnded,onTimeUpdate:this.onTimeUpdate,src:a.url,ref:function(t){return e.audio=t}}))}}]),t}(i.a.Component))||K)||K,se=P(function(){return n.e(2).then(n.bind(null,381))}),ue=P(function(){return Promise.all([n.e(16),n.e(3)]).then(n.bind(null,382))}),pe=P(function(){return n.e(4).then(n.bind(null,383))}),me=P(function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,395))}),de=P(function(){return Promise.all([n.e(0),n.e(6)]).then(n.bind(null,394))}),he=P(function(){return Promise.all([n.e(0),n.e(7)]).then(n.bind(null,393))}),fe=P(function(){return Promise.all([n.e(0),n.e(8)]).then(n.bind(null,384))}),be=P(function(){return Promise.all([n.e(15),n.e(9)]).then(n.bind(null,387))}),ye=P(function(){return n.e(10).then(n.bind(null,385))}),ge=P(function(){return Promise.all([n.e(14),n.e(11)]).then(n.bind(null,386))}),ve=P(function(){return n.e(12).then(n.bind(null,391))}),Ee=Object(y.b)("appStore")(Q=Object(_.a)(Q=Object(y.c)(Q=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).toggleExpand=function(){n.props.appStore.toggleExpand()},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.appStore,t=e.isExpandSider,n=e.playlist;return i.a.createElement("div",{className:E.a.container,style:{transform:"translateX(".concat(t?"80%":0,")")}},i.a.createElement("div",{className:E.a.header},i.a.createElement("span",{className:"icon-weibiaoti12 iconfont",onClick:this.toggleExpand})),i.a.createElement("ul",{className:E.a["navigation-menu"]},i.a.createElement("li",null,i.a.createElement(S.a,{to:"/my",activeClassName:E.a.active},"\u6211\u7684")),i.a.createElement("li",null,i.a.createElement(S.a,{to:"/find",activeClassName:E.a.active},"\u53d1\u73b0")),i.a.createElement("li",null,i.a.createElement(S.a,{to:"/toplist",activeClassName:E.a.active},"\u6392\u884c\u699c")),i.a.createElement("li",null,i.a.createElement(S.a,{to:"/search",activeClassName:E.a.active},"\u641c\u7d22"))),i.a.createElement("div",{className:E.a.content,style:{bottom:n.length?60:0}},i.a.createElement(j.a,null,i.a.createElement(O.a,{path:"/my",component:se}),i.a.createElement(O.a,{path:"/find",component:ue}),i.a.createElement(O.a,{path:"/toplist",component:pe}),i.a.createElement(O.a,{path:"/sheet/:id",component:me}),i.a.createElement(O.a,{path:"/search",component:de}),i.a.createElement(O.a,{path:"/singer/:id",component:he}),i.a.createElement(O.a,{path:"/album/:id",component:fe}),i.a.createElement(O.a,{path:"/playlists",component:be}),i.a.createElement(O.a,{path:"/artists",component:ye}),i.a.createElement(O.a,{path:"/mv/:id",component:ge}),i.a.createElement(O.a,{path:"/history",component:ve}),i.a.createElement(w.a,{exact:!0,from:"/",to:"/find"}))),i.a.createElement(le,null),t&&i.a.createElement("div",{className:E.a.mask,onClick:this.toggleExpand}))}}]),t}(i.a.Component))||Q)||Q)||Q,_e=(n(218),function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{style:Se.container},i.a.createElement(g,null),i.a.createElement(Ee,null))}}]),t}(r.Component)),Se={container:{width:"100vw",height:"100vh",overflow:"hidden"}},je=_e;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(100);var Oe,we,xe,Ne,ke,Pe,Ce,Te,ze,Le,Ie,Me,De,Fe,We,Ue,Ae,He,Xe,Re,Je,Ye,qe,Be,Ge,Ve,Ke,Qe,$e,Ze,et,tt,nt,at,rt,it,ct=n(41),ot=n.n(ct),lt=n(111),st=n(102),ut=n(4),pt=n(3),mt=(n(226),n(2)),dt=n(78),ht=n(109),ft=n.n(ht),bt={sequence:0,shuffle:1,loop:2},yt={appStore:new(Oe=Object(mt.e)({equals:function(e,t){return e.id===t.id}}),we=function(){function e(){var t=this;Object(l.a)(this,e),Object(ut.a)(this,"isExpandSider",xe,this),Object(ut.a)(this,"playing",Ne,this),Object(ut.a)(this,"playlist",ke,this),Object(ut.a)(this,"mode",Pe,this),Object(ut.a)(this,"currentIndex",Ce,this),Object(ut.a)(this,"isFullScreen",Te,this),Object(ut.a)(this,"likeSongs",ze,this),Object(ut.a)(this,"playHistorys",Le,this),Object(ut.a)(this,"audio",Ie,this),Object(ut.a)(this,"songReady",Me,this),Object(ut.a)(this,"currentTime",De,this),Object(ut.a)(this,"isShowPlaylist",Fe,this),Object(ut.a)(this,"lyric",We,this),Object(ut.a)(this,"playingLyric",Ue,this),Object(ut.a)(this,"playingLineNum",Ae,this),Object(ut.a)(this,"setStore",He,this),Object(ut.a)(this,"toggleExpand",Xe,this),Object(ut.a)(this,"setFullScreen",Re,this),Object(ut.a)(this,"onSelectSong",Je,this),Object(ut.a)(this,"currentSongChange",Ye,this),Object(ut.a)(this,"getLyric",qe,this),Object(ut.a)(this,"handler",Be,this),Object(ut.a)(this,"changeMode",Ge,this),Object(ut.a)(this,"loop",Ve,this),Object(ut.a)(this,"changeSong",Ke,this),Object(ut.a)(this,"togglePlay",Qe,this),Object(ut.a)(this,"setLikes",$e,this),Object(ut.a)(this,"setPlayHistorys",Ze,this),Object(ut.a)(this,"deleteSong",et,this),Object(ut.a)(this,"addSong",tt,this),Object(ut.a)(this,"onCanPlay",nt,this),Object(ut.a)(this,"onError",at,this),Object(ut.a)(this,"onEnded",rt,this),Object(ut.a)(this,"onTimeUpdate",it,this),this.onPercentChange=function(e){var n=e*t.currentSong.duration;t.audio.currentTime=n,t.lyric&&t.lyric.seek(1e3*n)},this.isExpandSider=!1,this.playing=!1,this.playlist=[],this.mode=bt.sequence,this.currentIndex=-1,this.isFullScreen=!1,this.likeSongs=JSON.parse(localStorage.getItem("likeSongs"))||[],this.playHistorys=JSON.parse(localStorage.getItem("playHistorys"))||[],this.audio=null,this.songReady=!1,this.currentTime=0,this.isShowPlaylist=!1,this.lyric=null,this.playingLyric="",this.playingLineNum=0,Object(mt.m)(function(){return t.currentSong},function(){t.currentSongChange()})}return Object(s.a)(e,[{key:"currentSong",get:function(){var e={};return this.playlist[this.currentIndex]&&((e=Object(st.a)({},this.playlist[this.currentIndex])).artists=e.ar.map(function(e){return e.name}).join("/"),e.image=e.al?e.al.picUrl:"",e.url="https://music.163.com/song/media/outer/url?id=".concat(e.id,".mp3"),e.duration=e.dt/1e3||e.duration/1e3||0),e}},{key:"percent",get:function(){return this.currentSong.duration?this.currentTime/this.currentSong.duration:0}}]),e}(),xe=Object(pt.a)(we.prototype,"isExpandSider",[mt.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ne=Object(pt.a)(we.prototype,"playing",[mt.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ke=Object(pt.a)(we.prototype,"playlist",[mt.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pe=Object(pt.a)(we.prototype,"mode",[mt.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ce=Object(pt.a)(we.prototype,"currentIndex",[mt.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Te=Object(pt.a)(we.prototype,"isFullScreen",[mt.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ze=Object(pt.a)(we.prototype,"likeSongs",[mt.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Le=Object(pt.a)(we.prototype,"playHistorys",[mt.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ie=Object(pt.a)(we.prototype,"audio",[mt.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Me=Object(pt.a)(we.prototype,"songReady",[mt.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),De=Object(pt.a)(we.prototype,"currentTime",[mt.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fe=Object(pt.a)(we.prototype,"isShowPlaylist",[mt.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),We=Object(pt.a)(we.prototype,"lyric",[mt.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ue=Object(pt.a)(we.prototype,"playingLyric",[mt.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ae=Object(pt.a)(we.prototype,"playingLineNum",[mt.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Object(pt.a)(we.prototype,"currentSong",[Oe],Object.getOwnPropertyDescriptor(we.prototype,"currentSong"),we.prototype),Object(pt.a)(we.prototype,"percent",[mt.e],Object.getOwnPropertyDescriptor(we.prototype,"percent"),we.prototype),He=Object(pt.a)(we.prototype,"setStore",[mt.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){if("[object Object]"===Object.prototype.toString.call(t))for(var n=Object.entries(t),a=0;a<n.length;a++){var r=n[a],i=Object(lt.a)(r,2),c=i[0],o=i[1];e[c]=o}}}}),Xe=Object(pt.a)(we.prototype,"toggleExpand",[mt.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.isExpandSider=!e.isExpandSider}}}),Re=Object(pt.a)(we.prototype,"setFullScreen",[mt.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.isFullScreen=t}}}),Je=Object(pt.a)(we.prototype,"onSelectSong",[mt.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=Object(k.a)(N.a.mark(function t(n){var a,r;return N.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a=n.songlist,r=n.index,e.playlist=a?a.slice():[],e.currentIndex=r,e.isFullScreen=!0;case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}}),Ye=Object(pt.a)(we.prototype,"currentSongChange",[mt.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.currentSong.id&&(e.lyric&&e.lyric.stop(),e.playing=!0,e.currentTime=0,e.playingLineNum=0,e.playingLyric="",e.lyric=null,setTimeout(function(){e.audio&&e.audio.play(),e.getLyric(e.currentSong.id)}))}}}),qe=Object(pt.a)(we.prototype,"getLyric",[mt.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=Object(k.a)(N.a.mark(function t(n){var a;return N.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(dt.a)("/lyric?id=".concat(n));case 2:a=t.sent,Object(mt.n)(function(){e.lyric=a.lrc?new ft.a(a.lrc.lyric,e.handler):null,e.lyric&&e.lyric.play()});case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}}),Be=Object(pt.a)(we.prototype,"handler",[mt.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var n=t.lineNum,a=t.txt;e.playingLyric=a,e.playingLineNum=n}}}),Ge=Object(pt.a)(we.prototype,"changeMode",[mt.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=(e.mode+1)%3;ot.a.info(["\u987a\u5e8f\u64ad\u653e","\u968f\u673a\u64ad\u653e","\u5355\u66f2\u5faa\u73af"][t],1,null,!1),e.mode=t}}}),Ve=Object(pt.a)(we.prototype,"loop",[mt.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.audio.currentTime=0,e.audio.play(),e.playing=!0,e.lyric&&e.lyric.seek(0)}}}),Ke=Object(pt.a)(we.prototype,"changeSong",[mt.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var n=e.currentIndex;if(e.songReady)if(1!==e.playlist.length){if(e.mode===bt.shuffle)for(n=Object(Z.d)(0,e.playlist.length-1);n===e.currentIndex;)n=Object(Z.d)(0,e.playlist.length-1);else"prev"===t&&-1===--n&&(n=e.playlist.length-1),"next"===t&&++n===e.playlist.length&&(n=0);e.currentIndex=n,e.songReady=!1}else e.loop()}}}),Qe=Object(pt.a)(we.prototype,"togglePlay",[mt.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){clearTimeout(e.errorTimer),e.playing?e.audio&&e.audio.pause():e.audio&&e.audio.play(),e.lyric&&e.lyric.togglePlay(),e.playing=!e.playing}}}),$e=Object(pt.a)(we.prototype,"setLikes",[mt.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var n=e.likeSongs.slice(),a=n.findIndex(function(e){return e.id===t.id});-1!==a?n.splice(a,1):n.unshift(t),localStorage.setItem("likeSongs",JSON.stringify(n)),e.likeSongs=JSON.parse(localStorage.getItem("likeSongs"))||[]}}}),Ze=Object(pt.a)(we.prototype,"setPlayHistorys",[mt.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var n=t.isAdd,a=t.song,r=t.index,i=e.playHistorys.slice();if(n){var c=i.findIndex(function(e){return e.id===a.id});-1!==c&&i.splice(c,1),i.unshift(a)}else i.splice(r,1);localStorage.setItem("playHistorys",JSON.stringify(i)),e.playHistorys=JSON.parse(localStorage.getItem("playHistorys"))||[]}}}),et=Object(pt.a)(we.prototype,"deleteSong",[mt.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var n=e.playlist.slice(),a=e.currentIndex;n.splice(t,1),(a>t||a===n.length)&&a--,0===n.length&&(e.isShowPlaylist=!1),e.playlist=n,e.currentIndex=a}}}),tt=Object(pt.a)(we.prototype,"addSong",[mt.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var n=e.playlist.slice(),a=e.currentIndex,r=n.findIndex(function(e){return e.id===t.id});-1===r?(a++,n.splice(a,0,t),e.playlist=n,e.currentIndex=a,e.isFullScreen=!0):e.currentIndex=r}}}),nt=Object(pt.a)(we.prototype,"onCanPlay",[mt.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.songReady=!0,e.setPlayHistorys({isAdd:!0,song:e.currentSong})}}}),at=Object(pt.a)(we.prototype,"onError",[mt.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){ot.a.info("\u64ad\u653e\u9519\u8bef\uff0c\u81ea\u52a8\u8df3\u5230\u4e0b\u4e00\u9996",2,null,!1),e.errorTimer=setTimeout(function(){e.changeSong("next")},2e3)}}}),rt=Object(pt.a)(we.prototype,"onEnded",[mt.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.mode===bt.loop?e.loop():e.changeSong("next")}}}),it=Object(pt.a)(we.prototype,"onTimeUpdate",[mt.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.currentTime=t.target.currentTime}}}),we)},gt=n(388);o.a.render(i.a.createElement(y.a,yt,i.a.createElement(gt.a,null,i.a.createElement(je,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},25:function(e,t,n){e.exports={wrapper:"playlist_wrapper__i_5mE","list-wrapper":"playlist_list-wrapper__3yFtE","list-top":"playlist_list-top__1-v06",icon:"playlist_icon__1HsGj",text:"playlist_text__3h9PM",num:"playlist_num__puwJM","list-main":"playlist_list-main__SNPYy",active:"playlist_active__3ebAJ",remove:"playlist_remove__1vhT5","list-bottom":"playlist_list-bottom__BCUzr"}},26:function(e,t,n){e.exports={container:"index_container__vTYBC",header:"index_header__3HilY","navigation-menu":"index_navigation-menu__2ReWG",active:"index_active__1STkt",content:"index_content__3yoxI",mask:"index_mask__kud-p"}},31:function(e,t,n){e.exports={"mini-player":"miniPlayer_mini-player__3zCUv",icon:"miniPlayer_icon__1lh0P",text:"miniPlayer_text__3nHOm",control:"miniPlayer_control__1SaDN",iconfont:"miniPlayer_iconfont__3lDmX",iconfont2:"miniPlayer_iconfont2__3EPXI"}},35:function(e,t,n){"use strict";function a(e){return e<1e4?e:e>=1e4?(e/=1e4).toFixed(1)+"\u4e07":void 0}function r(e){if(e)return{__html:e=e.replace(/(\r\n|\n|\r)/gm,"<br />")}}function i(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function c(e){var t=(e|=0)/60|0,n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=e.toString().length;for(;n<t;)e="0"+e,n++;return e}(e%60);return"".concat(t,":").concat(n)}n.d(t,"b",function(){return a}),n.d(t,"a",function(){return r}),n.d(t,"d",function(){return i}),n.d(t,"c",function(){return c})},42:function(e,t,n){e.exports={"progress-bar":"index_progress-bar__19a8I","bar-inner":"index_bar-inner__vNe7U",progress:"index_progress__1Prk0","progress-btn-wrapper":"index_progress-btn-wrapper__3DiPt","progress-btn":"index_progress-btn__1mgEe"}},46:function(e,t,n){"use strict";var a=n(7),r=n(8),i=n(12),c=n(11),o=n(13),l=n(0),s=n.n(l),u=n(105),p=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return(n=Object(i.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(o)))).initScroll=function(){n.scroll=new u.a(n.wrapper,{click:!0,mouseWheel:!0,pullUpLoad:!0}),n.scroll.on("pullingUp",n.props.onPullingUp)},n.refresh=function(){n.scroll&&n.scroll.refresh()},n.finishPullUp=function(){n.scroll&&n.scroll.finishPullUp()},n.scrollToElement=function(e,t,a,r,i){n.scroll&&n.scroll.scrollToElement(e,t,a,r,i)},n.scrollTo=function(e,t,a,r){n.scroll&&n.scroll.scrollTo(e,t,a,r)},n.destroy=function(){n.scroll.destroy(),n.scroll=null},n}return Object(o.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.initScroll()}},{key:"componentDidUpdate",value:function(){this.refresh()}},{key:"componentWillUnmount",value:function(){this.destroy()}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{style:{height:"100%",width:"100%",overflow:"hidden"},ref:function(t){return e.wrapper=t}},this.props.children)}}]),t}(s.a.Component);p.defaultProps={onPullingUp:function(){}},t.a=p},5:function(e,t,n){e.exports={"normal-player":"normalPlayer_normal-player__3-TWA",background:"normalPlayer_background__3BYYq",top:"normalPlayer_top__31VWg",back:"normalPlayer_back__15eFx",middle:"normalPlayer_middle__3Tn6s","middle-left":"normalPlayer_middle-left__39Sdd","image-wrapper":"normalPlayer_image-wrapper__39mSW","playing-lyric-wrapper":"normalPlayer_playing-lyric-wrapper__az_GD","playing-lyric":"normalPlayer_playing-lyric__8aww0","middle-right":"normalPlayer_middle-right__27T5g","lyric-wrapper":"normalPlayer_lyric-wrapper__z-hfl",text:"normalPlayer_text__2yekQ",current:"normalPlayer_current__1MKtG",bottom:"normalPlayer_bottom__1C9mK","dot-wrapper":"normalPlayer_dot-wrapper__ns-xj",dot:"normalPlayer_dot__vnhRD",active:"normalPlayer_active__1TQ0Y","progress-wrapper":"normalPlayer_progress-wrapper__2V3Ej",time:"normalPlayer_time__m97a-","bar-wrapper":"normalPlayer_bar-wrapper__F8IDI","control-wrapper":"normalPlayer_control-wrapper__3FVnm",disable:"normalPlayer_disable__25VqA"}},58:function(e,t,n){e.exports={"progress-circle":"index_progress-circle__1iTns","progress-background":"index_progress-background__bwhNK","progress-bar":"index_progress-bar__38E1l"}},78:function(e,t,n){"use strict";n.d(t,"a",function(){return p});var a=n(22),r=n.n(a),i=(n(100),n(41)),c=n.n(i),o=n(27),l=(n(227),"http://39.98.32.203:3000");function s(e,t){var n=l+e;return t&&(n=-1===n.indexOf("?")?"".concat(n,"?").concat(u(t)):"".concat(n,"&").concat(u(t))),n}function u(e){var t="";"[object Object]"===Object.prototype.toString.call(e)&&(t=Object.entries(e).map(function(e){return"".concat(e[0],"=").concat(e[1])}).join("&"));return t}function p(e,t){return m.apply(this,arguments)}function m(){return(m=Object(o.a)(r.a.mark(function e(t,n){var a,i;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=s(t,n),e.next=3,fetch(a,{credentials:"include",xhrFields:{withCredentials:!0}});case 3:if(!(i=e.sent).ok){e.next=8;break}return e.abrupt("return",i.json());case 8:return c.a.offline(i.statusText||"\u7f51\u7edc\u9519\u8bef"),e.abrupt("return",i);case 10:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}},94:function(e,t,n){}},[[120,17,13]]]);
//# sourceMappingURL=main.24844097.chunk.js.map