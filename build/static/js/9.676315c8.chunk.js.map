{"version":3,"sources":["components/Loading/index.js","components/Loading/style/index.module.less","components/NavBar/index.js","components/NavBar/style/index.module.less","pages/PlayListsPage/style/index.module.less","pages/PlayListsPage/style/catMenu.module.less","pages/PlayListsPage/style/list.module.less","pages/PlayListsPage/CatMenu.js","pages/PlayListsPage/List.js","pages/PlayListsPage/index.js"],"names":["Loading","matchingType","type","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","className","style","_this$props","this","props","loading","React","Component","defaultProps","module","exports","loading-box","line-scale","ball-clip-rotate-multiple","rotate","ball-clip-rotate-pulse","scale","square-spin","ball-scale","ball-scale-multiple","NavBar","withRouter","goBack","_this","history","navbar","concat","iconfont","onClick","title","children","container","header","bg-img","info-wrapper","left","right","name","other","cat","list","wrapper","mask","img-box","playCount","user","CatMenu","height","data","value","onChange","closeMenu","isOpen","react_default","menu_default","document","documentElement","clientHeight","List","map","item","key","id","Link","to","src","coverImgUrl","alt","fontSize","formatNumber","creator","nickname","PlayListsPage","state","catlist","playlists","headerInfo","isLoadMore","haveMore","getHeaderInfo","_callee","res","regenerator_default","wrap","_context","prev","next","get","sent","setState","stop","getCatlist","_callee2","_context2","categories","Object","entries","forEach","push","label","sub","category","unshift","toggleOpen","changeCat","getPlaylists","_callee3","_context3","limit","more","onLoadMore","_callee4","_context4","abrupt","offset","length","setTimeout","scroll","finishPullUp","_this2","_this$state","Scroll","onPullingUp","ref","el","color","copywriter","display","transform","PlayListsPage_List","top","PlayListsPage_CatMenu"],"mappings":"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","file":"static/js/9.676315c8.chunk.js","sourcesContent":["import React from 'react'\nimport PropTypes from 'prop-types'\nimport style from './style/index.module.less'\n\nclass Loading extends React.Component {\n    static propTypes = {\n        type: PropTypes.string,\n        loading: PropTypes.bool,\n        style: PropTypes.object\n    }\n    static defaultProps = {\n        style: {}\n    }\n    matchingType = (type) => {\n        switch (type) {\n            case 'line-scale': {\n                return (\n                    <div className={style['line-scale']}>\n                        <div/>\n                        <div/>\n                        <div/>\n                        <div/>\n                        <div/>\n                    </div>\n                )\n            }\n            case 'ball-clip-rotate-multiple': {\n                return (\n                    <div className={style['ball-clip-rotate-multiple']}>\n                        <div/>\n                        <div/>\n                    </div>\n                )\n            }\n            case 'ball-clip-rotate-pulse': {\n                return (\n                    <div className={style['ball-clip-rotate-pulse']}>\n                        <div/>\n                        <div/>\n                    </div>\n                )\n            }\n            case 'square-spin': {\n                return (\n                    <div className={style['square-spin']}>\n                        <div/>\n                    </div>\n                )\n            }\n            case 'ball-scale': {\n                return (\n                    <div className={style['ball-scale']}>\n                        <div/>\n                    </div>\n                )\n            }\n            case 'ball-scale-multiple': {\n                return (\n                    <div className={style['ball-scale-multiple']}>\n                        <div/>\n                        <div/>\n                        <div/>\n                    </div>\n                )\n            }\n            default:\n                return (\n                    <div className={style['line-scale']}>\n                        <div/>\n                        <div/>\n                        <div/>\n                        <div/>\n                        <div/>\n                    </div>\n                )\n        }\n    }\n\n    render () {\n        const {type, loading} = this.props\n        return loading ? (\n            <div className={style['loading-box']} style={this.props.style}>\n                {this.matchingType(type)}\n            </div>\n        ) : null\n    }\n}\n\nexport default Loading","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loading-box\":\"index_loading-box__1Kgdg\",\"line-scale\":\"index_line-scale__1_OJc\",\"ball-clip-rotate-multiple\":\"index_ball-clip-rotate-multiple__3iegK\",\"rotate\":\"index_rotate__mxK17\",\"ball-clip-rotate-pulse\":\"index_ball-clip-rotate-pulse__2h6Nk\",\"scale\":\"index_scale__3JsNk\",\"square-spin\":\"index_square-spin__37Em9\",\"ball-scale\":\"index_ball-scale__16fEH\",\"ball-scale-multiple\":\"index_ball-scale-multiple__1jdW_\"};","import React from 'react'\nimport style from './style/index.module.less'\nimport {withRouter} from 'react-router-dom'\n\n@withRouter\nclass NavBar extends React.Component{\n    goBack = ()=>{\n        this.props.history.goBack()\n    }\n    render(){\n        return (\n            <div className={style.navbar}>\n                <div className={`iconfont icon-zuojiantou ${style.iconfont}`} onClick={this.goBack}/>\n                <div className={style.title}>{this.props.children}</div>\n            </div>\n        )\n    }\n}\n\nexport default NavBar","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navbar\":\"index_navbar__1ThId\",\"iconfont\":\"index_iconfont__2l53L\",\"title\":\"index_title__37GaT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"index_container__Tukg2\",\"header\":\"index_header__20eK1\",\"bg-img\":\"index_bg-img__1ABkm\",\"info-wrapper\":\"index_info-wrapper__JiJJn\",\"left\":\"index_left__1squc\",\"right\":\"index_right__3l9-J\",\"title\":\"index_title__2tl41\",\"name\":\"index_name__XQ7BT\",\"other\":\"index_other__2JLOp\",\"navbar\":\"index_navbar__1zSqc\",\"cat\":\"index_cat__2RZa6\",\"list\":\"index_list__2prs0\",\"loading\":\"index_loading__1rAdZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"catMenu_wrapper__1YVQr\",\"mask\":\"catMenu_mask__3gP-y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"list_list__1cJAl\",\"img-box\":\"list_img-box__zgpC9\",\"playCount\":\"list_playCount__2MeUS\",\"user\":\"list_user__3wYLx\",\"name\":\"list_name__1N87J\"};","import React from 'react'\nimport {Menu} from'antd-mobile'\nimport PropTypes from 'prop-types';\nimport style from './style/catMenu.module.less'\n\nclass CatMenu extends React.Component{\n    static propTypes = {\n        height:PropTypes.number,\n        data:PropTypes.array,\n        value:PropTypes.array,\n        onChange:PropTypes.func,\n        closeMenu:PropTypes.func,\n        isOpen:PropTypes.bool,\n    }\n    static defaultProps = {\n        height:document.documentElement.clientHeight *0.45,\n        data:[],\n        value:[],\n        onChange:()=>{},\n        closeMenu:()=>{},\n        isOpen:false,\n    }\n\n\n    render(){\n        const {height,data,value,onChange,closeMenu,isOpen} = this.props\n        return (\n            <div className={style.wrapper}>\n                {\n                    isOpen ? <div>\n                        <Menu\n                            data={data}\n                            value={value}\n                            height={height}\n                            onChange={onChange}\n                        />\n                        <div onClick={closeMenu} className={style.mask}/>\n                    </div> : null\n                }\n            </div>\n        )\n    }\n}\n\n\nexport default CatMenu","import React from 'react'\nimport style from './style/list.module.less'\nimport {formatNumber} from '@/utils/util'\nimport {Link} from 'react-router-dom'\n\nclass List extends React.Component{\n    render(){\n        const {list} = this.props\n        return (\n            <div className={style.list}>\n                <ul>\n                    {list && list.map(item=><li key={item.id}>\n                        <Link to={`/sheet/${item.id}`}>\n                            <div className={style['img-box']}>\n                                <img src={item.coverImgUrl} alt=\"\"/>\n                                <p className={style.playCount}><span className={'iconfont icon-erji1'} style={{fontSize:12}}/> {formatNumber(item.playCount)}</p>\n                                <p className={style.user}><span className={'iconfont icon-wode1'} style={{fontSize:12}}/> {item.creator && item.creator.nickname}</p>\n                            </div>\n                            <p className={style.name}>{item.name}</p>\n                        </Link>\n                    </li>)}\n                </ul>\n            </div>\n        )\n    }\n}\n\nexport default List","import React from 'react'\nimport style from './style/index.module.less'\nimport { get } from '@/utils/ajax'\nimport NavBar from '@/components/NavBar'\nimport CatMenu from './CatMenu'\nimport Loading from '../../components/Loading/index'\nimport List from './List'\nimport Scroll from '@/components/Scroll'\n\nclass PlayListsPage extends React.Component {\n    state = {\n        catlist: [],   //分类列表\n        cat:['全部','全部'], //选择的分类\n        isOpen:false,   //是否展开分类菜单\n        loading:false, //获取歌单的loading\n        playlists:[],   //歌单列表\n        headerInfo:{},\n        isLoadMore:false, //加载更多\n        haveMore:true  //是否还有更多\n    }\n\n    componentDidMount () {\n        this.getHeaderInfo()\n        this.getCatlist()\n        this.getPlaylists(this.state.cat)\n    }\n    getHeaderInfo = async ()=>{\n        const res = await get('/top/playlist/highquality')\n        this.setState({\n            headerInfo: res.playlists ? (res.playlists[0] || {}) : {}\n        })\n    }\n\n    getCatlist = async () => {\n        const res = await get('/playlist/catlist')\n        let catlist = []\n        if (res.categories) {\n            Object.entries(res.categories).forEach(item => {\n                catlist.push({\n                    value: item[1],\n                    label: item[1]\n                })\n            })\n\n            res.sub.forEach(item => {\n                if (catlist[item.category].children) {\n                    catlist[item.category].children.push({\n                        value: item.name,\n                        label: item.name\n                    })\n                } else {\n                    catlist[item.category].children = [{\n                        value: item.name,\n                        label: item.name\n                    }]\n                }\n            })\n        }\n        catlist.unshift( {\n            value: '全部',\n            label: '全部',\n            children: [\n                {\n                    value: '全部',\n                    label: '全部',\n                }\n            ]\n        })\n        this.setState({\n            catlist\n        })\n    }\n    toggleOpen = ()=>{\n        this.setState({\n            isOpen:!this.state.isOpen\n        })\n    }\n    changeCat = (cat)=>{\n        this.setState({\n            isOpen:false,\n            cat,\n        })\n        this.getPlaylists(cat)\n    }\n    getPlaylists = async (cat)=>{\n        this.setState({\n            loading:true,\n            playlists:[],\n            haveMore:true\n        })\n        const res = await get('/top/playlist',{\n            cat:cat[1],\n            limit:16\n        })\n        this.setState({\n            loading:false,\n            playlists:res.playlists || [],\n            haveMore:res.more\n        })\n    }\n\n    onLoadMore = async ()=>{\n        if(!this.state.haveMore || this.state.isLoadMore){\n            return\n        }\n        this.setState({\n            isLoadMore:true\n        })\n        const res = await get('/top/playlist',{\n            cat:this.state.cat[1],\n            limit:16,\n            offset:this.state.playlists.length\n        })\n        //增加两秒的延迟，实际项目中可以不用，这里只是为显示这样一个加载中的过程\n        setTimeout(()=>{\n            this.setState({\n                isLoadMore:false,\n                playlists:this.state.playlists.concat(res.playlists || []),\n                haveMore:res.more\n            })\n            this.scroll && this.scroll.finishPullUp()\n        },2000)\n    }\n\n\n\n    render () {\n        const {catlist,isOpen,cat,loading,playlists,headerInfo,isLoadMore} = this.state\n\n        return (\n            <div className={style.container}>\n                <NavBar>歌单</NavBar>\n                <div style={{height:'100vh'}}>\n                    <Scroll onPullingUp={this.onLoadMore} ref={el=>this.scroll=el}>\n                        <div>\n                            <div className={style.header}>\n                                <img src={headerInfo.coverImgUrl || ''} alt=\"\" className={style['bg-img']}/>\n                                <div className={style['info-wrapper']}>\n                                    <div className={style.left}><img src={headerInfo.coverImgUrl} alt=\"\"/></div>\n                                    <div className={style.right}>\n                                        <p className={style.title}><span className={'iconfont icon-jingpin'} style={{color:'orange'}}/> 精品歌单</p>\n                                        <p className={style.name}>{headerInfo.name}</p>\n                                        <p className={style.other}>{headerInfo.copywriter}</p>\n                                    </div>\n                                </div>\n                            </div>\n                            <div className={style.navbar}>\n                                <div className={style.cat} onClick={this.toggleOpen}>{cat[1]} <span className={'iconfont' +\n                                ' icon-xiangyoujiantou'} style={{display:'inline-block',transform:'rotate(90deg)'}}/></div>\n                                <div className={style.list}>\n                                    <span onClick={()=>this.changeCat(['语种','华语'])}>华语</span>丨\n                                    <span onClick={()=>this.changeCat(['风格','民谣'])}>民谣</span>丨\n                                    <span onClick={()=>this.changeCat(['风格','电子'])}>电子</span>\n                                </div>\n                            </div>\n                            <List list={playlists}/>\n                            <div className={style.loading} style={{display:isLoadMore?'':'none'}}>加载中...</div>\n                        </div>\n                    </Scroll>\n                    <Loading loading={loading} style={{top:'60%'}}/>\n                    <CatMenu data={catlist} isOpen={isOpen} value={cat} onChange={this.changeCat} closeMenu={this.toggleOpen}/>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default PlayListsPage"],"sourceRoot":""}