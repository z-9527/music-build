{"version":3,"sources":["pages/HistoryPage/style/index.module.less","pages/HistoryPage/style/list.module.less","pages/HistoryPage/List.js","pages/HistoryPage/index.js"],"names":["module","exports","container","top","back","switch","active","empty","list","icon","List","inject","observer","onSelectSong","index","_this","props","appStore","songlist","remove","item","e","stopPropagation","_this2","this","currentSong","react_default","a","createElement","Scroll","className","style","map","key","id","onClick","name","ar","i","join","React","Component","HistoryPage","withRouter","state","tab","goBack","history","removeLike","song","setLikes","removeHistory","setPlayHistorys","isAdd","isHistory","location","search","match","setState","_this$props$appStore","likeSongs","playHistorys","h","playlist","length","height","concat","fontSize","display","HistoryPage_List"],"mappings":"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","file":"static/js/12.fe9be673.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"index_container__2FyF2\",\"top\":\"index_top__HSihF\",\"back\":\"index_back__JZb12\",\"switch\":\"index_switch__3qGNK\",\"active\":\"index_active__2_yei\",\"empty\":\"index_empty__3Jj50\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"list_list__5FulS\",\"icon\":\"list_icon__3UAuH\",\"active\":\"list_active__3mp6k\"};","import React from 'react'\nimport Scroll from '@/components/Scroll'\nimport style from './style/list.module.less'\nimport {inject,observer} from 'mobx-react'\n\n@inject('appStore') @observer\nclass List extends React.Component {\n\n    onSelectSong = (index)=>{\n        this.props.appStore.onSelectSong({\n            songlist:this.props.list,\n            index\n        })\n    }\n    remove = (index,item,e)=>{\n        e.stopPropagation()\n        this.props.remove(index,item)\n    }\n    render () {\n        const {list} = this.props\n        const {currentSong} = this.props.appStore\n        return (\n            <Scroll>\n                <ul className={style.list}>\n                    {\n                        list && list.map((item,index) => <li key={item.id} className={item.id === currentSong.id ? style.active : ''} onClick={()=>this.onSelectSong(index)}>\n                            <div>\n                                <h3>{item.name}</h3>\n                                <p>{item.ar.map(i => i.name).join('/')}</p>\n                            </div>\n                            <div onClick={(e)=>this.remove(index,item,e)}>\n                                <span className={style.icon}>×</span>\n                            </div>\n                        </li>)\n                    }\n                </ul>\n            </Scroll>\n        )\n    }\n}\n\nexport default List\n","import React from 'react'\nimport style from './style/index.module.less'\nimport { withRouter } from 'react-router-dom'\nimport { inject, observer } from 'mobx-react'\nimport List from './List'\n\n@withRouter @inject('appStore') @observer\nclass HistoryPage extends React.Component {\n    state = {\n        tab: ''\n    }\n\n    componentDidMount () {\n        const search = this.props.location.search\n        const isHistory = search.match('isHistory')\n        this.setState({\n            tab: isHistory ? 'history' : 'like'\n        })\n    }\n\n    goBack = () => {\n        this.props.history.goBack()\n    }\n\n    removeLike = (index,song) => {\n        this.props.appStore.setLikes(song)\n    }\n    removeHistory = (index) => {\n        this.props.appStore.setPlayHistorys({\n            isAdd: false,\n            index\n        })\n    }\n\n    render () {\n        const {tab} = this.state\n        const {likeSongs, playHistorys, playlist} = this.props.appStore\n        const isHistory = tab === 'history'\n        const h = playlist.length ? 60 : 0\n        const height = {height: `calc(100vh - ${ 44 + h}px`}\n\n        return (\n            <div className={style.container}>\n                <div className={style.top}>\n                    <div className={style.back} onClick={this.goBack}><span className={'iconfont icon-zuojiantou'} style={{fontSize: 25}}/>\n                    </div>\n                    <div className={style.switch}>\n                        <div className={isHistory ? '' : style.active} onClick={() => this.setState({tab: 'like'})}>我喜欢的\n                        </div>\n                        <div className={isHistory ? style.active : ''} onClick={() => this.setState({tab: 'history'})}>\n                            最近听的\n                        </div>\n                    </div>\n                </div>\n                <div>\n                    <div style={{display: isHistory ? 'none' : ''}}>\n                        <div style={height}>\n                            <List list={likeSongs} remove={this.removeLike}/>\n                        </div>\n                        <div className={style.empty} style={{display: likeSongs.length ? 'none' : ''}}>\n                            <div className={'iconfont icon-jiarugedan'}/>\n                            <p>没有收藏的歌曲</p>\n                            <p>你可以挑一些喜欢的单曲添加到这里</p>\n                        </div>\n                    </div>\n                    <div style={{display: isHistory ? '' : 'none'}}>\n                        <div style={height}>\n                            <List list={playHistorys} remove={this.removeHistory}/>\n                        </div>\n                        <div className={style.empty} style={{display: playHistorys.length ? 'none' : ''}}>\n                            <div className={'iconfont icon-yinyue'}/>\n                            <p>没有播放记录</p>\n                            <p>这里会自动记录您最近听过的歌曲</p>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default HistoryPage"],"sourceRoot":""}